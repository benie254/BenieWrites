<div class="container-fluid">
    <div class="container-fluid" id="readBg">
        <span class="sticky-top top">
            <span (click)="back()" type="button" id="back" class="btn btn-sm btn-dark col1"><i class="fa-solid fa-chevron-left"></i> Go Back</span> 
            &nbsp;&nbsp;&nbsp;
            <span>
                <span>
                    <button id="toggle" class="btn btn-sm btn-dark col1"><mat-slide-toggle (click)="changeBg($event)">Light<i class="fa-solid fa-arrows-left-right"></i>Dark</mat-slide-toggle></button>
                </span> 
                <span class="float-right">
                    <button id="follow" class="col1 btn btn-sm btn-dark" (click)="followBottomSheet()"><i class="fa-solid fa-user-plus"></i> Follow</button>
                    &nbsp;&nbsp;&nbsp;&nbsp;
                    <button id="share" class="col1 btn btn-sm btn-dark" (click)="openBottomSheet()"><i class="fa-solid fa-share-nodes"></i> Share</button>
                    &nbsp;&nbsp;
                </span>
            </span>
        </span>   
        <div class="row">
            <div class="col-md-2"></div>
            <div class="col-md-8" id="content">
            <div>
                <div class="padding-lg height-auto">
                    <div>
                        <div>
                            <button *ngFor="let c of chaps" class="margin-md padding-sm" mat-raised-button color="primary" (click)="copy(c.id);">{{c.title}}</button>
                        </div>
                    </div>
                    <div class="padding-md">
                        <div class="row">
                            <div class="col-lg-1"></div>
                            <div class="col-lg-5 text-center">
                                <img src="{{story.cover}}" class="max-width max-height shadow" alt="" priority>
                                <span>
                                    <button mat-flat-button color="accent" (click)="copy(firstChap.id)">Read</button>
                                </span>
                            </div>
                            <div class="col-lg-6">
                                <small>
                                    <h1 class="text-primary">{{story.title}} 
                                        <br> 
                                        <span class="col2">
                                            <h4 class="xsm"> 
                                                <span><i class="fa-regular fa-star"></i> {{storyLikes.length}}</span> 
                                                &nbsp;&nbsp; 
                                                <span><i class="fa-regular fa-comment"></i> {{storyComments.length}}</span> 
                                                &nbsp;&nbsp;
                                                <span><i class="fa-solid fa-layer-group"></i> {{chaps.length}}</span> 
                                                &nbsp;&nbsp; 
                                                <i class="fa-regular fa-clock"></i> <span *ngIf="!readHrs && !readSecs"> {{readTime}}</span> 
                                                <span *ngIf="!readSecs && readHrs"> {{readHrs}}</span> 
                                                <span *ngIf="!readHrs && readSecs"> {{readSecs}}</span>  
                                                &nbsp;&nbsp; 
                                                <span *ngIf="story.status == 'ongoing'">
                                                    <i><i class="fa-solid fa-spinner"></i>  <a routerLink="/stories/related/status/{{story.status}}" class="col2">{{story.status}}</a></i>
                                                </span> 
                                                <span *ngIf="story.status == 'completed'">
                                                    <i><i class="fa-regular fa-circle-check"></i> <a routerLink="/stories/related/status/{{story.status}}" class="col2">{{story.status}}</a></i>
                                                </span>
                                            </h4>
                                        </span>
                                    </h1>
                                    <p>
                                        <span>
                                            {{story.description}}
                                            <span>
                                                <mat-chip-list aria-label="Categories">
                                                    <mat-chip class="margin-md" color="primary" selected routerLink="/stories/related/genre/{{story.genre}}">{{story.genre}}</mat-chip>
                                                    &nbsp;&nbsp;
                                                    <mat-chip class="margin-md" color="primary" selected routerLink="/stories/related/category/{{story.category}}">{{story.category}}</mat-chip>
                                                </mat-chip-list>
                                            </span>
                                            <br>
                                            <span>
                                                <p>
                                                    <span>
                                                        <img src="https://res.cloudinary.com/benie/image/upload/v1667972682/h02js8etvetdr5ctbmtf.jpg" height="35" width="35" class="border-50" alt="">
                                                    </span> 
                                                    By 
                                                    <a routerLink="/about" class="col2">{{story.author}}</a> 
                                                    &nbsp;&nbsp;|&nbsp;&nbsp; 
                                                    <span>First published {{story.first_published | date}}</span>
                                                </p>
                                            </span>
                                            <hr>
                                            <span>
                                                <app-feedback [storyId]="storyId" [likeStory]="likeStory" [storyLikes]="storyLikes" [commentStory]="commentStory"></app-feedback>
                                            </span>
                                        </span>
                                    </p>
                                </small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-2"></div>
        </div>
    </div>
    <br>
    <div class="container">
        <small>
            <span>
                <span>
                    <div class="row">
                        <app-comments [storyComments]="storyComments" [topComments]="topComments" [likeComment]="likeComment" [copyComment]="copyComment" [commentId]="commentId"></app-comments> 
                    </div>
                </span>
            </span>
        </small>
    </div>
    <br><br>
    
    <app-story-footer></app-story-footer>
</div>

</div>